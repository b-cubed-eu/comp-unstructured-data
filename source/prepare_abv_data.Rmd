---
title: "Prepare ABV data"
author: "Ward Langeraert"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, warning=FALSE, message=FALSE}
library(rgbif)
library(zen4R)
```

# Goal

Load and save structured data of the “Common Breeding Bird Survey Flanders” (ABV).

# Download data



```{r}
# Data path and create directory if necessary
data_path <- file.path("data", "raw")
dir.create(data_path, showWarnings = FALSE, recursive = TRUE)

# Download data from zenodo if necessary
file_sampling_framework <- file.path(
  data_path,
  "sampling_framework_abv.csv")

if (file.exists(file_sampling_framework)) {
  sampling_framework_abv <- read_csv(file_sampling_framework)
} else {
  download_zenodo(
    doi = "10.5281/zenodo.10103472",
    path = data_path,
    files = list("steekproefkader.csv.csv"))
  
  sampling_framework_abv <- read_csv(file_sampling_framework)
}
```


